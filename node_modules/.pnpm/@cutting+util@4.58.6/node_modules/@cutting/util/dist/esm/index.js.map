{"version":3,"file":"index.js","sources":["../../src/date/date.ts","../../src/dom/dom.ts","../../src/dom/wait.ts","../../src/object/isNil.ts","../../src/number/index.ts","../../src/enums/HttpMethod.ts","../../src/enums/HttpStatusCodes.ts","../../src/events/once/once.ts","../../src/lists/lists.ts","../../src/object/by.ts","../../src/object/identity.ts","../../src/object/isObject.ts","../../src/object/range.ts","../../src/object/uniqueid.ts","../../src/string/index.ts","../../src/string/escapeHtml.ts","../../src/services/storageHelper/index.ts","../../src/environment/index.ts","../../src/functions/functions.ts","../../src/object/unique.ts","../../src/object/omit.ts","../../src/object/is-equal.ts","../../src/object/map-values.ts","../../src/object/combinations.ts","../../src/uuid/uuid.ts"],"sourcesContent":["export const isDate = (d?: unknown): d is Date => d instanceof Date && !isNaN(d as unknown as number);\n","export const isElementInViewportTop = (el: Element): boolean => el && el.getBoundingClientRect().top >= 0;\n","export const wait = (selector: string, breakAt = 10, delay = 100): Promise<HTMLElement> => {\n  return new Promise<HTMLElement>((resolve, reject) => {\n    const wait = (count = 0) => {\n      const el = document.querySelector(selector);\n\n      if (!!el) {\n        resolve(el as HTMLElement);\n      } else {\n        setTimeout(() => {\n          if (count < breakAt) {\n            wait(count + 1);\n          } else {\n            reject(new Error(`no element found for ${selector}`));\n          }\n        }, delay);\n      }\n    };\n\n    wait();\n  });\n};\n","export const isNil = <T>(val: T | null | undefined): val is null | undefined =>\n  typeof val === 'undefined' || val === null;\n","import { isNil } from '../object/isNil.js';\n\nexport const isNumber = (n: unknown): n is number => !isNil(n) && /^\\d+$/g.test((n as string).toString());\n","export enum HttpMethod {\n  GET = 'get',\n  POST = 'post',\n  PUT = 'put',\n  DELETE = 'delete',\n}\n","export enum HttpStatusCode {\n  Ok = 200,\n  Created = 201,\n  Accepted = 202,\n  NoContent = 204,\n  MovedPermanently = 301,\n  Found = 302,\n  SeeOther = 303,\n  BadRequest = 400,\n  Unauthorised = 401,\n  PaymentRequired = 402,\n  Forbidden = 403,\n  NotFound = 404,\n  InternalServerError = 500,\n  NotImplemented = 501,\n  BadGateway = 502,\n  ServiceUnavailable = 503,\n  GatewayTimeout = 504,\n}\n","import type { Fn } from '../../functions/functions.js';\n\nexport const once = <T extends EventTarget>(obj: T, evtName: string, fn: Fn): void => {\n  obj.addEventListener(evtName, function onEvt(...args) {\n    obj.removeEventListener(evtName, onEvt);\n    fn(...args);\n  });\n};\n","export const flatten = <T>(arr: ArrayLike<T | ReadonlyArray<T>>): T[] =>\n  Array.isArray(arr) ? arr.reduce((a, b) => a.concat(b), []) : [arr];\n\nexport const flattenDeep = <T>(arr: ArrayLike<T | ReadonlyArray<T>>): T[] =>\n  Array.isArray(arr) ? arr.reduce((a, b) => [...flattenDeep<T>(a), ...flattenDeep<T>(b)], []) : [arr];\n","import type { Entries } from '../types/entries.js';\nimport type { DeepPartial } from '../types/DeepPartial.js';\nimport { isNil } from './isNil.js';\n\nexport type PropertyReturn = string | number | symbol;\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const keyBy = <T, K extends keyof T & string>(array: T[], key: K) =>\n  (array || []).reduce((r, x) => ({ ...r, [(key ? x[key as K] : (x as keyof T)) as K]: x }), {});\n\nexport const pickBy = <T extends Record<keyof T & string, unknown>>(\n  o: T,\n  predicate: (value: T[keyof T]) => PropertyReturn | boolean,\n): DeepPartial<T> | undefined | null => {\n  if (isNil(o)) {\n    return o;\n  }\n\n  const ret: DeepPartial<T> = {};\n\n  for (const [key, value] of Object.entries(o) as Entries<T>) {\n    if (isNil(value) || !!predicate(value) === false) {\n      continue;\n    }\n\n    ret[key] = value;\n  }\n\n  return ret;\n};\n\nexport const countBy = <T>(\n  o: T[],\n  predicate: (o: T[keyof T]) => keyof T & string,\n): DeepPartial<Record<keyof T, number>> => {\n  const ret: DeepPartial<Record<keyof T, number>> = {};\n\n  for (const [, value] of Object.entries<T>(o) as Entries<T>) {\n    const result = predicate(value);\n\n    if (!ret[result]) {\n      ret[result] = 0;\n    }\n\n    if (Boolean(value) === false || typeof result === 'undefined' || result === null) {\n      continue;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (ret as any)[result]++;\n  }\n\n  return ret;\n};\n\nexport const sortBy = <T, R>(o: T[], selector: (item: T) => R): T[] => {\n  if (isNil(o)) {\n    return [];\n  }\n\n  const result = o.slice(0);\n\n  result.sort((x, y) => {\n    const a = selector(x);\n    const b = selector(y);\n\n    return a > b ? 1 : a < b ? -1 : 0;\n  });\n\n  return result;\n};\n\nexport const uniqBy = <T, R>(list: T[], selector: (item: T) => R): T[] => {\n  const ret: T[] = [];\n\n  const set = new Set<R>();\n\n  for (const item of list) {\n    const value = selector(item);\n\n    if (set.has(value) === false) {\n      set.add(value);\n      ret.push(item);\n    }\n  }\n\n  return ret;\n};\n\nexport const sortedUniqBy = <T, R>(o: T[], selector: (item: T) => R): T[] => {\n  return uniqBy(sortBy(o, selector), selector);\n};\n\nexport const groupBy = <T>(o: T[], selector: (item: T) => T): { [key: string]: T[] } => {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return o.reduce((acc: any, item) => {\n    const key = selector(item);\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return Object.assign(acc, { [key as any]: (acc[key] || []).concat(item) });\n  }, {});\n};\n","export const identity = <T>(o: T): T => o;\n","import { isNil } from './isNil.js';\n\nexport const isObject = (value?: unknown): value is Record<string, unknown> => {\n  const type = typeof value;\n\n  return isNil(value) === false && (type === 'object' || type === 'function');\n};\n","export function* range(start: number, end?: number, step = 1): Generator<number, void> {\n  let begin: number;\n  let finish: number;\n\n  if (!end) {\n    begin = 0;\n    finish = start;\n  } else {\n    begin = start;\n    finish = end;\n  }\n\n  for (let value = begin; value <= finish; value += step) {\n    yield value;\n  }\n}\n","export const uniqueId = (\n  (counter) =>\n  (str = '') =>\n    `${str}${++counter}`\n)(0);\n","export const decamelize = (str: string): string => str.replace(/([a-z\\d])([A-Z])/g, '$1_$2').toLowerCase();\n\nexport const dasherize = (str: string): string => decamelize(str).replace(/[ _]/g, '-');\n\nexport const stripSpaces = (txt: string): string => (txt || '').replace(/\\s/g, '');\n\nexport const capitalize = (str: string): string => str?.replace(/^[a-z]/, (chr) => chr.toUpperCase());\n\nexport const padNumber = (num: string): string => {\n  const s = String(num || '');\n\n  return s.length !== 1 ? s : `0${s}`;\n};\n","export function escapeHtml(unsafe: string): string {\n  return unsafe.replace(/[&<>\"']/g, (m) => {\n    switch (m) {\n      case '&':\n        return '&amp;';\n      case '<':\n        return '&lt;';\n      case '>':\n        return '&gt;';\n      case '\"':\n        return '&quot;';\n      default:\n        return '&#039;';\n    }\n  });\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nlet dataMemory: { [key: string]: any } = {};\n\ninterface Storage {\n  readonly length: number;\n  clear(): void;\n  getItem(key: string): string | null;\n  removeItem(key: string): void;\n  setItem(key: string, value: string): void;\n}\n\nexport class MemoryStorage {\n  static setItem(key: string, value: any): any {\n    dataMemory[key] = value;\n    return dataMemory[key];\n  }\n\n  static getItem(key: string): any {\n    return Object.prototype.hasOwnProperty.call(dataMemory, key) ? dataMemory[key] : undefined;\n  }\n\n  static removeItem(key: string): boolean {\n    return delete dataMemory[key];\n  }\n\n  static clear(): typeof dataMemory {\n    dataMemory = {};\n    return dataMemory;\n  }\n\n  static key(index: number): string {\n    return dataMemory[index];\n  }\n}\n\ntype StorageType = 'sessionStorage' | 'localStorage';\n\nexport class StorageHelper implements Storage {\n  private storageWindow: Storage;\n\n  getItem(key: string): string | null {\n    return this.getStorage().getItem(key);\n  }\n\n  setItem(key: string, value: string): void {\n    this.getStorage().setItem(key, value);\n  }\n\n  removeItem(key: string): void {\n    this.getStorage().removeItem(key);\n  }\n\n  clear(): void {\n    this.getStorage().clear();\n  }\n\n  get length(): number {\n    return this.getStorage().length;\n  }\n\n  constructor(storageType: StorageType) {\n    try {\n      localStorage;\n      this.storageWindow = window[storageType];\n      this.storageWindow.setItem('cutting.test-ls', '1');\n      this.storageWindow.removeItem('cutting.test-ls');\n    } catch (exception) {\n      this.storageWindow = MemoryStorage;\n    }\n  }\n\n  getStorage(): Storage {\n    return this.storageWindow;\n  }\n}\n","export enum environments {\n  development = 'development',\n  test = 'test',\n  production = 'production',\n}\n\nexport const env: string = environments[process.env.NODE_ENV as environments] || environments.development;\n\nexport const isDevelopment = env === environments.development;\nexport const isTest = env === environments.test;\nexport const isProduction = env === environments.production;\nexport const isCI = isDevelopment;\n","import { isDate } from '../date/date.js';\nimport { isNil } from '../object/isNil.js';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport const noop = (): void => {};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type Fn = <A extends unknown[], R>(...args: A) => R;\n\nexport const isPromise = <T>(obj: unknown): obj is Promise<T> => {\n  return (\n    typeof !isNil(obj) && typeof obj === 'object' && obj !== null && 'then' in obj && 'function' === typeof obj['then']\n  );\n};\n\nexport const isAsyncFunction = <F extends Fn>(f: F): boolean => {\n  if (typeof f !== 'function') {\n    return false;\n  }\n\n  const s = f.toString().trim();\n\n  // not a great way to determine but there does not appear to be any\n  // other way by conventional means\n  return !!(s.match(/^async /) || s.match(/return __awaiter/));\n};\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const isFunction = (x: any): x is Fn => {\n  if (isDate(x)) {\n    return false;\n  }\n\n  return typeof x === 'function';\n};\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const isObject = (x: any): x is Record<string, unknown> => x !== null && Object(x) === x;\n","const onlyUnique = <T>(value: T, index: number, self: T[]) => self.indexOf(value) === index;\n\nexport const unique = <T>(arr: T[]): T[] => arr.filter(onlyUnique);\n","export function omit<T extends Record<string, unknown>, K extends keyof T>(obj?: T, ...keys: K[]): Omit<T, K> {\n  if (!obj) {\n    return {} as Omit<T, K>;\n  }\n\n  const copy = {} as T;\n\n  const remaining = (Object.keys(obj) as K[]).flatMap((c) => (keys.includes(c) === false ? [c] : []));\n\n  for (const k of remaining) {\n    copy[k] = obj[k];\n  }\n\n  return copy;\n}\n","import { assert } from 'assert-ts';\nimport type { Fn } from '../functions/functions.js';\n\nexport function isEqual<T extends Record<string, unknown> | Fn>(left: T | T[], right: T | T[]): boolean {\n  function getType(obj: T | T[]) {\n    return Object.prototype.toString.call(obj).slice(8, -1).toLowerCase();\n  }\n\n  function areArraysEqual() {\n    assert(Array.isArray(left) && Array.isArray(right), 'eiter left or right is not an array');\n\n    if (left.length !== right.length) {\n      return false;\n    }\n\n    for (let i = 0; i < left.length; i++) {\n      if (!isEqual(left[i], right[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function areObjectsEqual() {\n    assert(!Array.isArray(left) && !Array.isArray(right), 'eiter left or right is an array');\n\n    assert(typeof left !== 'function' && typeof right !== 'function');\n\n    if (Object.keys(left).length !== Object.keys(right).length) {\n      return false;\n    }\n\n    for (const key of Object.keys(left)) {\n      if (!isEqual(left[key] as T, right[key] as T)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function areFunctionsEqual() {\n    assert(typeof left === 'function' && typeof right === 'function', 'either left or right is not function');\n    return left.toString() === right.toString();\n  }\n\n  function arePrimativesEqual() {\n    return left === right;\n  }\n\n  const type = getType(left);\n\n  if (type !== getType(right)) {\n    return false;\n  }\n\n  if (type === 'array') {\n    return areArraysEqual();\n  }\n  if (type === 'object') {\n    return areObjectsEqual();\n  }\n  if (type === 'function') {\n    return areFunctionsEqual();\n  }\n\n  return arePrimativesEqual();\n}\n","type ObjectIterator<T, K extends keyof T, R> = (value: T[K], key: string, collection: T) => R;\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport const mapValues = <T extends Record<string, unknown>, R>(\n  o: T,\n  callback: ObjectIterator<T, keyof T, R>,\n): { [P in keyof T]: R } => {\n  return Object.entries(o).reduce(\n    (a, [key, value]) => {\n      a[key as keyof T] = callback(value as T[keyof T], key, o);\n      return a;\n    },\n    {} as { [P in keyof T]: R },\n  );\n};\n","export function* combinations<A>(arr: A[]): Generator<Array<A>, void, void> {\n  if (arr.length === 1) {\n    yield arr;\n\n    return;\n  }\n\n  yield [arr[0]];\n\n  for (const c of combinations(arr.slice(1))) {\n    yield c;\n\n    yield [arr[0], ...c];\n  }\n}\n","export function generateUUID(): string {\n  let d = new Date().getTime(); //Timestamp\n  let d2 = (typeof performance !== 'undefined' && performance.now && performance.now() * 1000) || 0;\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    let r = Math.random() * 16; //random number between 0 and 16\n    if (d > 0) {\n      r = (d + r) % 16 | 0;\n      d = Math.floor(d / 16);\n    } else {\n      r = (d2 + r) % 16 | 0;\n      d2 = Math.floor(d2 / 16);\n    }\n    return (c === 'x' ? r : (r & 0x3) | 0x8).toString(16);\n  });\n}\n"],"names":["isDate","d","Date","isNaN","isElementInViewportTop","el","getBoundingClientRect","top","wait","selector","breakAt","delay","Promise","resolve","reject","count","document","querySelector","setTimeout","Error","isNil","val","isNumber","n","test","toString","HttpMethod","HttpStatusCode","once","obj","evtName","fn","addEventListener","onEvt","args","removeEventListener","flatten","arr","Array","isArray","reduce","a","b","concat","flattenDeep","keyBy","array","key","r","x","pickBy","o","predicate","ret","value","Object","entries","countBy","result","Boolean","sortBy","slice","sort","y","uniqBy","list","set","Set","item","has","add","push","sortedUniqBy","identity","isObject","type","range","start","end","step","begin","finish","uniqueId","counter","str","decamelize","replace","toLowerCase","dasherize","stripSpaces","txt","capitalize","chr","toUpperCase","padNumber","num","s","String","length","escapeHtml","unsafe","m","dataMemory","MemoryStorage","setItem","getItem","prototype","hasOwnProperty","call","undefined","removeItem","clear","index","StorageHelper","storageWindow","this","getStorage","constructor","storageType","localStorage","window","exception","environments","env","process","NODE_ENV","development","isDevelopment","isTest","isProduction","production","isCI","isPromise","isAsyncFunction","f","trim","match","isFunction","onlyUnique","self","indexOf","unique","filter","omit","keys","copy","remaining","flatMap","c","includes","k","isEqual","left","right","getType","assert","i","areArraysEqual","areObjectsEqual","mapValues","callback","combinations","generateUUID","getTime","d2","performance","now","Math","random","floor"],"mappings":"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"}